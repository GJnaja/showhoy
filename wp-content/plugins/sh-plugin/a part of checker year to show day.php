
<!-- 21/4/66 1.24 -->

<!DOCTYPE html>
<html lang="th" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
    <head>
        <meta charset="UTF-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="format-detection" content="telephone=no">
        <meta name="HandheldFriendly" content="true">
        <style>
            @font-face {
                font-family: 'K2D';
                font-style: normal;
                font-weight: 400;
                src: local('K2D Regular'), local('K2D-Regular'), url(https://fonts.gstatic.com/s/k2d/v1/J7aTnpF2V0EjZKUsrLc.woff2) format('woff2');
                unicode-range: U+0E01-0E5B, U+200C-200D, U+25CC;
            }

            body {
                padding-top: 1px !important;
                padding-bottom: 1px !important;
            }

            .btn-danger {
                color: #fff;
                margin: 3px 3px;
            }

            h3 {
                margin-top: 2px!important;
                margin-left: 1px!important;
            }

            aside {
                margin-left: 4px!important;
            }

            .widget-title {
                font-size: 18px;
                margin-bottom: 15px;
                padding-bottom: 0;
            }

            .widget-title span {
                margin: 0 auto;
                text-align: center;
                width: 99%;
                background-color: #289dcc;
                color: #fff;
                padding: 6px 12px;
                display: inline-block;
            }

            div.textwidget {
                width: 240px;
                margin: 0 auto;
            }

            html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,dl,dt,dd,ol,ul,li,fieldset,form,legend,table,caption,tbody,tfoot,thead,th,td {
                border: 1px;
                font: inherit;
                font-size: 100%;
                font-style: inherit;
                font-weight: inherit;
                margin: 0;
                outline: 0;
                padding: 0;
                vertical-align: baseline;
            }

            html {
                -webkit-text-size-adjust: 100%;
                -ms-text-size-adjust: 100%;
            }

            article,aside,details,figcaption,figure,footer,header,main,nav,section {
                display: block;
            }

            body,button,input,select,textarea {
                color: #444444;
                font: 16px 'K2D',serif;
                line-height: 1.6;
                word-wrap: break-word;
            }

            h1,h2,h3,h4,h5,h6 {
                padding-bottom: 18px;
                color: #333333;
                font-weight: normal;
                font-family: 'K2D',sans-serif;
            }

            h1 {
                font-size: 42px;
                line-height: 1.2;
            }

            h2 {
                font-size: 38px;
                line-height: 1.2;
            }

            h3 {
                font-size: 34px;
                line-height: 1.2;
            }

            h4 {
                font-size: 30px;
                line-height: 1.2;
            }

            h5 {
                font-size: 26px;
                line-height: 1.2;
            }

            h6 {
                font-size: 22px;
                line-height: 1.2;
            }

            p {
                line-height: 1.6;
                margin-bottom: 15px;
                font-family: 'K2D',serif;
                font-size: 15px;
            }

            strong {
                font-weight: bold;
            }

            cite,em,i {
                font-style: italic;
            }

            .widget select {
                border: 1px solid #DDDDDD;
                color: #777777;
                padding: 2px;
                width: 99%;
            }

            html {
                font-family: K2D;
                -webkit-text-size-adjust: 100%;
                -ms-text-size-adjust: 100%;
            }

            body {
                font-family: K2D;
                margin: 0;
            }

            article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary {
                font-family: K2D;
                display: block;
            }

            audio,canvas,progress,video {
                display: inline-block;
                vertical-align: baseline;
            }

            audio:not([controls]) {
                display: none;
                height: 0;
            }

            [hidden],template {
                display: none;
            }

            a {
                background-color: transparent;
            }

            a:active,a:hover {
                outline: 0;
            }

            abbr[title] {
                border-bottom: 1px dotted;
            }

            b,strong {
                font-weight: bold;
            }

            dfn {
                font-style: italic;
            }

            h1 {
                margin: .67em 0;
                font-size: 2em;
            }

            mark {
                color: #000;
                background: #ff0;
            }

            small {
                font-size: 80%;
            }

            sub,sup {
                position: relative;
                font-size: 75%;
                line-height: 0;
                vertical-align: baseline;
            }

            sup {
                top: -.5em;
            }

            sub {
                bottom: -.25em;
            }

            img {
                border: 0;
            }

            svg:not(:root) {
                overflow: hidden;
            }

            figure {
                margin: 1em 40px;
            }

            hr {
                height: 0;
                -webkit-box-sizing: content-box;
                -moz-box-sizing: content-box;
                box-sizing: content-box;
            }

            pre {
                overflow: auto;
            }

            code,kbd,pre,samp {
                font-family: 'K2D', monospace;
                font-size: 1em;
            }

            button {
                transition: background-color 0.3s linear 0s;
                -webkit-appearance: none!important;
                box-sizing: border-box;
            }

            input,optgroup,select,textarea {
                margin: 0;
                font: inherit;
                color: inherit;
            }

            button {
                overflow: visible;
            }

            button,select {
                text-transform: none;
            }

            button,html input[type="button"],input[type="reset"],input[type="submit"] {
                -webkit-appearance: button;
                cursor: pointer;
            }

            button[disabled],html input[disabled] {
                cursor: default;
            }

            button::-moz-focus-inner,input::-moz-focus-inner {
                padding: 0;
                border: 0;
            }

            input {
                line-height: normal;
            }

            input[type="checkbox"],input[type="radio"] {
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                box-sizing: border-box;
                padding: 0;
            }

            input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button {
                height: auto;
            }

            input[type="search"] {
                -webkit-box-sizing: content-box;
                -moz-box-sizing: content-box;
                box-sizing: content-box;
                -webkit-appearance: textfield;
            }

            input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration {
                -webkit-appearance: none;
            }

            fieldset {
                padding: .35em .625em .75em;
                margin: 0 2px;
                border: 1px solid #c0c0c0;
            }

            legend {
                padding: 0;
                border: 0;
            }

            textarea {
                overflow: auto;
            }

            optgroup {
                font-weight: bold;
            }

            table {
                border-spacing: 0;
                border-collapse: collapse;
            }

            td,th {
                padding: 0;
            }

            @media print {
                *, *:before, *:after {
                    color: #000 !important;
                    text-shadow: none !important;
                    background: transparent !important;
                    -webkit-box-shadow: none !important;
                    box-shadow: none !important;
                }

                a, a:visited {
                    text-decoration: underline;
                }

                a[href]:after {
                    content: " (" attr(href) ")";
                }

                abbr[title]:after {
                    content: " (" attr(title) ")";
                }

                a[href^="#"]:after, a[href^="javascript:"]:after {
                    content: "";
                }

                pre, blockquote {
                    border: 1px solid #999;
                    page-break-inside: avoid;
                }

                thead {
                    display: table-header-group;
                }

                tr, img {
                    page-break-inside: avoid;
                }

                img {
                    max-width: 100% !important;
                }

                p, h2, h3 {
                    orphans: 3;
                    widows: 3;
                }

                h2, h3 {
                    page-break-after: avoid;
                }

                .navbar {
                    display: none;
                }

                .btn > .caret, .dropup > .btn > .caret {
                    border-top-color: #000 !important;
                }

                .label {
                    border: 1px solid #000;
                }

                .table {
                    border-collapse: collapse !important;
                }

                .table td, .table th {
                    background-color: #fff !important;
                }

                .table-bordered th, .table-bordered td {
                    border: 1px solid #ddd !important;
                }
            }

            * {
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                box-sizing: border-box;
            }

            *:before,*:after {
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                box-sizing: border-box;
            }

            html {
                font-size: 10px;
                -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
            }

            body {
                font-family: "K2D", Helvetica, Arial, sans-serif;
                font-size: 14px;
                line-height: 1.42857143;
                color: #333;
            }

            input,button,select,textarea {
                font-family: inherit;
                font-size: inherit;
                line-height: inherit;
            }

            a {
                color: #337ab7;
                text-decoration: none;
            }

            a:hover,a:focus {
                color: #23527c;
                text-decoration: underline;
            }

            a:focus {
                outline: 5px auto -webkit-focus-ring-color;
                outline-offset: -2px;
            }

            [role="button"] {
                cursor: pointer;
            }

            @font-face {
                font-family: 'Glyphicons Halflings';
                src: url('https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/fonts/glyphicons-halflings-regular.eot');
                src: url('https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/fonts/glyphicons-halflings-regular.eot?#iefix') format('embedded-opentype'), url('https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/fonts/glyphicons-halflings-regular.woff2') format('woff2'), url('https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/fonts/glyphicons-halflings-regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/fonts/glyphicons-halflings-regular.ttf') format('truetype'), url('https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular') format('svg');
            }

            .glyphicon {
                z-index: -100;
                position: static;
                top: 1px;
                display: inline-block;
                font-family: 'Glyphicons Halflings';
                font-style: normal;
                font-weight: normal;
                line-height: 1;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .glyphicon-star:before {
                content: "\e006";
            }

            .glyphicon-th-list:before {
                content: "\e012";
            }

            .glyphicon-hand-right:before {
                content: "\e127";
            }

            .glyphicon-link:before {
                content: "\e144";
            }

            .glyphicon-search:before {
                content: "\e003";
            }

            .glyphicon-check:before {
                content: "\e067";
            }

            .btn {
                display: inline-block;
                padding: 6px 12px;
                margin-bottom: 0;
                font-size: 14px;
                font-weight: normal;
                line-height: 1.42857143;
                text-align: center;
                white-space: nowrap;
                vertical-align: middle;
                -ms-touch-action: manipulation;
                touch-action: manipulation;
                cursor: pointer;
                -webkit-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
                background-image: none;
                border: 1px solid transparent;
                border-radius: 4px;
            }

            .btn:focus,.btn:active:focus,.btn.active:focus,.btn.focus,.btn:active.focus,.btn.active.focus {
                outline: 5px auto -webkit-focus-ring-color;
                outline-offset: -2px;
            }

            .btn:hover,.btn:focus,.btn.focus {
                color: #333;
                text-decoration: none;
            }

            .btn:active,.btn.active {
                background-image: none;
                outline: 0;
                -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, .125);
                box-shadow: inset 0 3px 5px rgba(0, 0, 0, .125);
            }

            .btn.disabled,.btn[disabled],fieldset[disabled] .btn {
                cursor: not-allowed;
                filter: alpha(opacity=65);
                -webkit-box-shadow: none;
                box-shadow: none;
                opacity: .65;
            }

            a.btn.disabled,fieldset[disabled] a.btn {
                pointer-events: none;
            }

            .btn-default {
                color: #333;
                background-color: #fff;
                border-color: #ccc;
            }

            .btn-default:focus,.btn-default.focus {
                color: #333;
                background-color: #e6e6e6;
                border-color: #8c8c8c;
            }

            .btn-default:hover {
                color: #333;
                background-color: #e6e6e6;
                border-color: #adadad;
            }

            .btn-default:active,.btn-default.active,.open > .dropdown-toggle.btn-default {
                color: #333;
                background-color: #e6e6e6;
                border-color: #adadad;
            }

            .btn-default:active:hover,.btn-default.active:hover,.open > .dropdown-toggle.btn-default:hover,.btn-default:active:focus,.btn-default.active:focus,.open > .dropdown-toggle.btn-default:focus,.btn-default:active.focus,.btn-default.active.focus,.open > .dropdown-toggle.btn-default.focus {
                color: #333;
                background-color: #d4d4d4;
                border-color: #8c8c8c;
            }

            .btn-default:active,.btn-default.active,.open > .dropdown-toggle.btn-default {
                background-image: none;
            }

            .btn-default.disabled:hover,.btn-default[disabled]:hover,fieldset[disabled] .btn-default:hover,.btn-default.disabled:focus,.btn-default[disabled]:focus,fieldset[disabled] .btn-default:focus,.btn-default.disabled.focus,.btn-default[disabled].focus,fieldset[disabled] .btn-default.focus {
                background-color: #fff;
                border-color: #ccc;
            }

            .btn-default .badge {
                color: #fff;
                background-color: #333;
            }

            .btn-primary {
                color: #fff;
                background-color: #337ab7;
                border-color: #2e6da4;
            }

            .btn-primary:focus,.btn-primary.focus {
                color: #fff;
                background-color: #286090;
                border-color: #122b40;
            }

            .btn-primary:hover {
                color: #fff;
                background-color: #286090;
                border-color: #204d74;
            }

            .btn-primary:active,.btn-primary.active,.open > .dropdown-toggle.btn-primary {
                color: #fff;
                background-color: #286090;
                border-color: #204d74;
            }

            .btn-primary:active:hover,.btn-primary.active:hover,.open > .dropdown-toggle.btn-primary:hover,.btn-primary:active:focus,.btn-primary.active:focus,.open > .dropdown-toggle.btn-primary:focus,.btn-primary:active.focus,.btn-primary.active.focus,.open > .dropdown-toggle.btn-primary.focus {
                color: #fff;
                background-color: #204d74;
                border-color: #122b40;
            }

            .btn-primary:active,.btn-primary.active,.open > .dropdown-toggle.btn-primary {
                background-image: none;
            }

            .btn-primary.disabled:hover,.btn-primary[disabled]:hover,fieldset[disabled] .btn-primary:hover,.btn-primary.disabled:focus,.btn-primary[disabled]:focus,fieldset[disabled] .btn-primary:focus,.btn-primary.disabled.focus,.btn-primary[disabled].focus,fieldset[disabled] .btn-primary.focus {
                background-color: #337ab7;
                border-color: #2e6da4;
            }

            .btn-primary .badge {
                color: #337ab7;
                background-color: #fff;
            }

            .reward-text {
                -moz-border-bottom-colors: none;
                -moz-border-left-colors: none;
                -moz-border-right-colors: none;
                -moz-border-top-colors: none;
                background-color: #f7f7f9;
                border-bottom-color: #e1e1e8;
                border-bottom-left-radius: 4px;
                border-bottom-right-radius: 4px;
                border-bottom-style: solid;
                border-bottom-width: 1px;
                border-image-outset: 0 0 0 0;
                border-image-repeat: stretch stretch;
                border-image-slice: 100% 100% 100% 100%;
                border-image-source: none;
                border-image-width: 1 1 1 1;
                border-left-color: #e1e1e8;
                border-left-style: solid;
                border-left-width: 1px;
                border-right-color: #e1e1e8;
                border-right-style: solid;
                border-right-width: 1px;
                border-top-color: #e1e1e8;
                border-top-left-radius: 4px;
                border-top-right-radius: 4px;
                border-top-style: solid;
                border-top-width: 1px;
                margin-bottom: 14px;
                padding-bottom: 9px;
                padding-left: 14px;
                padding-right: 14px;
                padding-top: 9px;
            }

            .result-item {
                border-bottom: 1px dashed #ebe4ae;
                padding-bottom: 10px;
                text-align: center;
            }

            .lotto-title h1 {
                font-size: 2em;
            }

            .lotto-digit,.lotto-title h2 {
                font-size: 1.5em;
                color: green;
                letter-spacing: 2px;
                display: inline-block;
                float: none;
                padding: 0 0;
                text-align: center;
                vertical-align: top;
                line-height: 1.2;
                width: 100%
            }

            .lotto-title {
                color: #bd9331;
                font-size: 0.75em;
                text-align: center;
            }

            .lotto-title>h2 {
                font-size: 1.5em;
            }

            h2.mytitle {
                color: #0493cc;
                font-size: 1.8em;
            }

            h2.good {
                color: green;
            }

            h2.sad {
                color: red;
            }

            h3.good {
                color: green;
                font-size: 1.6em;
                border-bottom: 1px dashed #ebe4ae;
            }

            h3.sad {
                color: red;
                font-size: 1.6em;
                border-bottom: 1px dashed #ebe4ae;
            }

            .lotto-form_input {
                -moz-border-bottom-colors: none;
                -moz-border-left-colors: none;
                -moz-border-right-colors: none;
                -moz-border-top-colors: none;
                background-color: #fff;
                background-image: none;
                border-bottom-color: #ed501e;
                border-bottom-left-radius: 4px;
                border-bottom-right-radius: 4px;
                border-bottom-style: solid;
                border-bottom-width: 1px;
                border-image-outset: 0 0 0 0;
                border-image-repeat: stretch stretch;
                border-image-slice: 100% 100% 100% 100%;
                border-image-source: none;
                border-image-width: 1 1 1 1;
                border-left-color: #ed501e;
                border-left-style: solid;
                border-left-width: 1px;
                border-right-color: #ed501e;
                border-right-style: solid;
                border-right-width: 1px;
                border-top-color: #ed501e;
                border-top-left-radius: 4px;
                border-top-right-radius: 4px;
                border-top-style: solid;
                border-top-width: 1px;
                box-shadow: 0 1px 1px rgba(0,0,0,0.075) inset;
                color: #555;
                display: block;
                font-size: 14px;
                height: 40px;
                line-height: 1.42857;
                padding-bottom: 6px;
                padding-left: 6px;
                padding-right: 6px;
                padding-top: 6px;
                transition-delay: 0s,0s;
                transition-duration: 0.15s,0.15s;
                transition-property: border-color,box-shadow;
                transition-timing-function: ease-in-out,ease-in-out;
                width: 99%;
                margin: 2px 2px;
            }

            .btn-checksearch.btn {
                width: 99%;
                background-color: #4CAF50;
                border: none;
                color: white;
                padding: 10px 20px;
                text-align: center;
                text-decoration: none;
                display: inline-block;
                font-size: 18px;
                margin: 5px 0px;
                cursor: pointer;
            }

            .btn-checksearch i {
                font-family: base-icon;
                speak: none;
                font-style: normal;
                font-weight: 400;
                font-variant: normal;
                text-transform: none;
                line-height: 1;
                -webkit-font-smoothing: antialiased;
            }

            .btn {
                -moz-border-bottom-colors: none;
                -moz-border-left-colors: none;
                -moz-border-right-colors: none;
                -moz-border-top-colors: none;
                -moz-user-select: none;
                background-image: none;
                border-bottom-left-radius: 4px;
                border-bottom-right-radius: 4px;
                border-bottom-style: solid;
                border-bottom-width: 1px;
                border-image-outset: 0 0 0 0;
                border-image-repeat: stretch stretch;
                border-image-slice: 100% 100% 100% 100%;
                border-image-source: none;
                border-image-width: 1 1 1 1;
                border-left-style: solid;
                border-left-width: 1px;
                border-right-style: solid;
                border-right-width: 1px;
                border-top-left-radius: 4px;
                border-top-right-radius: 4px;
                border-top-style: solid;
                border-top-width: 1px;
                cursor: pointer;
                display: inline-block;
                font-size: 14px;
                font-weight: 400;
                line-height: 1.42857;
                margin-bottom: 0;
                padding-bottom: 6px;
                padding-left: 7px;
                padding-right: 7px;
                padding-top: 6px;
                text-align: center;
                vertical-align: middle;
                white-space: nowrap;
            }

            .menu-container {
                position: fixed;
                right: -175px;
                height: 100%;
                transition: right 0.5s;
            }

            .menu-container.active {
                right: 0;
                height: 100%;
                left: 0;
                top: 0;
                background-color: rgb(0,0,0);
                background-color: rgba(0,0,0, 0.9);
                overflow-x: hidden;
                transition: 0.5s;
            }

            .buttons {
                display: block;
                float: right;
                background: #d3d3d3;
                margin-top: 40px;
            }

            .button {
                display: block;
                position: relative;
                width: 40px;
                height: 40px;
                background: #d3d3d3;
                cursor: pointer;
                border-bottom: 1px solid rgba(255,255,255,0.3);
            }

            .button:hover {
                background: #d3d3d3;
                border-bottom-color: transparent;
            }

            .icon-list:before, .icon-list:after {
                content: "";
                display: block;
                position: absolute;
                border-top: 4px solid #fff;
                width: 40%;
                left: 30%;
                height: 50%;
                top: 24%;
            }

            .icon-list:before {
                border-bottom: 4px solid #fff;
            }

            .icon-list:after {
                top: 44%;
            }

            .menu {
                float: right;
                height: 100%;
                width: 175px;
                background: #d3d3d3;
                overflow: auto;
            }

            .nav {
                margin: 0;
                padding: 0;
                list-style: none;
            }

            .nav li {
                display: block;
                margin: 0;
                padding: 0;
            }

            .nav a {
                display: block;
                padding: 10px;
                border-bottom: 1px solid rgba(255,255,255,0.3);
                color: #fff;
                background: #d3d3d3;
                text-decoration: none;
            }

            .nav a:hover {
                background: rgba(255,255,255,0.3);
                border-bottom-color: transparent;
            }

            .wrapper {
                width: 100%;
                margin: 0 auto;
            }

            li.menu-item a {
                margin: 10px;
            }

            li.menu-item {
                margin: 3px;
                list-style-type: none !important;
            }

            .mycenter {
                margin-left: 50px;
            }

            .mysocial {
                margin: 10px 7px;
            }

            ul.sub-menu li:before {
                content: "...";
            }

            b,strong {
                font-weight: normal !important;
            }

            @media only screen and (max-width: 290px) {
                .btn {
                    font-size: 13px;
                }

                .widget-title {
                    font-size: 14px;
                    margin-bottom: 13px;
                }

                .wrapper {
                    width: 90%;
                    margin: 0 auto;
                }

                .lotto-check-list {
                    font-size: 0.9em;
                }

                .col-xs-9 {
                    position: relative;
                    min-height: 1px;
                    float: left;
                    width: 80%
                }

                .col-xs-2 {
                    position: relative;
                    min-height: 1px;
                    float: left;
                    width: 18%
                }

                .day66{
                    display: none;
                }
            }

            
        </style>
        <base target="_blank">
    </head>
    <body>
        <div class="wrapper">
            <aside id="custom_html-12" class="widget_text widget widget_custom_html clearfix">
                <h3 class="widget-title">
                    <a href="" title="showhoy" target="_blank">
                        <span>
                            <i class="glyphicon glyphicon-check" aria-hidden="true"></i>
                            <?php 
                                $xml = simplexml_load_file('https://www.lottery.co.th/feed');
                                $value = (string) $xml->channel->item[0]->title;
                                echo "$value";
                            ?>
                        </span>
                    </a>
                </h3>
            </aside>
        </div>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-migrate/1.4.1/jquery-migrate.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    </body>

    <?php
                function lotterycurl( $day, $year, $number ){
                    
                        // Data to send to API
                        $data = array(
                            'day' => $day,
                            //'month' => $month,
                            'year' => $year,
                            'number' => $number
                        );
                    
                        $day = str_pad($day,5,"0",STR_PAD_LEFT);
                        //$month = str_pad($month,2,"0",STR_PAD_LEFT);
                        $number = str_pad($number,6,"0",STR_PAD_LEFT);
                        $aday = $day[0].$day[1];
                        $month = $day[3].$day[4];

                        // API endpoint URL
                        $url = 'http://51.159.105.201:5000/lotto/'.$year.'-'.$month.'-'.$aday.'/'.$number;
                        //echo "$url";
                        ?><br><?php
                        
                        // Initialize cURL session
                        //$curl = curl_init($url);
                        
                        // // Set cURL options
                        // curl_setopt($curl, CURLOPT_POST, true);
                        // curl_setopt($curl, CURLOPT_POSTFIELDS, http_build_query($data));
                        // curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);

                        // curl_setopt($curl, CURLOPT_URL, $url);
                        // curl_setopt($curl, CURLOPT_FRESH_CONNECT, true);
                        // curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);
                    
                        // // Send request and get response
                        // $response = curl_exec($curl);
                        
                        // // Close cURL session
                        // curl_close($curl);
                    
                        // Set stream context options

                        $options = array(
                            'http' => array(
                                'header' => "Content-type: application/x-www-form-urlencoded\r\n",
                                'method' => 'GET',
                                'timeout' => 30,
                            ),
                        );

                        // Create stream context
                        $context = stream_context_create($options);

                        // Send request and get response
                        $response = file_get_contents($url, false, $context);

                        $day = str_split($day);
                        $month = str_split($month);
                        $number = str_split($number);
                        // Display response data
                        //echo "<script type='text/javascript'>alert('$response');window.close();</script>";
                        return $response;
                }
    ?>

    <!-- This website is like a Rocket, isn't it? Performance optimized by WP Rocket. Learn more: https://wp-rocket.me - Debug: cached@1680395029 -->
    <form id="frmLotto" method="POST" target="_self">
        <div class="form-group">
            <div>
                <?php 
                    // $values = array();
                    $values = [(string) $xml->channel->item[0]->link, (string) $xml->channel->item[1]->link,
                            (string) $xml->channel->item[2]->link, (string) $xml->channel->item[3]->link,
                            (string) $xml->channel->item[4]->link, (string) $xml->channel->item[5]->link,
                            (string) $xml->channel->item[6]->link, (string) $xml->channel->item[7]->link,
                            (string) $xml->channel->item[8]->link, (string) $xml->channel->item[9]->link];
                    //echo strlen($values[9]); ?><br><?php
                    //echo count($values);
                    $valueaDay = array();
                    $valueaMonth = array();
                    $valueaYear = array();
                    for($i=0;$i<count($values);$i++){
                        if($values[$i][33] == '-'){
                            $valueaYear[$i] = '25'.$values[$i][37].$values[$i][38];
                            $valueaMonth[$i] = $values[$i][34].$values[$i][35];
                            $valueaDay[$i] = '0'.$values[$i][32];
                            //echo "$valueaDay[$i]"."$valueaMonth[$i]"; 
                        }
                        else{
                            $valueaDay[$i] = $values[$i][32].$values[$i][33];
                            $valueaMonth[$i] = $values[$i][35].$values[$i][36];
                            $valueaYear[$i] = '25'.$values[$i][38].$values[$i][39];
                        }
                        
                        // if($i=='0'){
                        //     echo "<option value='$valueaYear[$i]' selected>$valueaYear[$i]</option>";
                        // }
                        // else{
                        //     echo "<option value='$valueaYear[$i]' >$valueaYear[$i]</option>";
                        // }
                        //echo "$valueaYear[$i]"; 
                    }
                ?>
            </div>
            <?php 
                    //$years = 
                    //echo "$years";
                    $valueaYearNow = intval($valueaYear[0]);
                    //$yearsFull = 2500+$valueaYearNow;
                    //$yearsEng=$valueaYearNow-543;
                    //echo "$valueaYearNow";
                    //echo "$yearsEng";
            ?>
            <table class="table table-hover text-nowrap" id="attribute_table">
                
                <tr id="row1">
                    <td>
                        <select id="year" name="year" class="year">
                            <?php
                            // Generate options for year dropdown
                            for ($i = $valueaYearNow; $i > 2540; $i--) {
                                if($i == $valueaYearNow){
                                    echo "<option value='$i-543' selected>$i</option>";
                                }
                                else if($i != $valueaYearNow){
                                    echo "<option value='$i-543'>$i</option>";
                                }
                            }
                            ?>
                        </select>
                    </td>
                    
                    
                        <?php
                            // echo $values[7][33];
                            // echo $values[8][33];
                            // echo $values[9][33];
                            // echo $valueaYear[7];
                            // echo $valueaYear[8];
                            // echo $valueaYear[9];
                            $monthTh = ["มกราคม", "กุมภาพันธ์", "มีนาคม", "เมษายน", "พฤษภาคม", "มิถุนายน",
                                            "กรกฎาคม", "สิงหาคม", "กันยายน", "ตุลาคม", "พฤศจิกายน", "ธันวาคม"];
                            //echo "$monthTh[9]";
                            //echo $valueaYear[7];
                            
                            for($k=0;$k<$valueaYearNow-2550;$k++){
                                //echo $valueaYear[$k];
                        ?>
                    <td>
                    
                        <select name="<?php echo 'day'.$valueaYear[$k]-'2500';  ?>" id="<?php echo 'day'.$valueaYear[$k]-'2500';  ?>" class="day">
                        
                            <?php 
                                for($i=0;$i<count($values);$i++){
                                    //for($j=0;$j<10;$j++){
                            
                                        $valueaDay[$i] = $values[$i][32].$values[$i][33];
                                        $valueaMonth[$i] = $values[$i][35].$values[$i][36];
                                        $valueYear[$i] = '25'.$values[$i][38].$values[$i][39];
                                        //$month[$i] = $valueaMonth[$i];
                                        
                                        //echo "$thismonth";
                                        if($valueaYear[0]-$k==$valueaYear[$i]){
                                            if($values[$i][33] == '-'){
                                                $thismonth = intval($valueaMonth[$i]-1);
                                                $valueYear[$i] = '25'.$values[$i][37].$values[$i][38];
                                                $valueaDay[$i] = '0'.$values[$i][32];
                                                $valueaMonth[$i] = $values[$i][34].$values[$i][35];
                                                
                                                    echo "<option value='$valueaDay[$i],$valueaMonth[$i]'>
                                                    $valueaDay[$i]".' / '."$monthTh[$thismonth]
                                                    </option>"; ?><br><?php
                                            }
                                            else{
                                                $thismonth = intval($valueaMonth[$i]-1);
                                                    echo "<option value='$valueaDay[$i],$valueaMonth[$i]'>
                                                    $valueaDay[$i]".' / '."$monthTh[$thismonth]
                                                    </option>"; ?><br><?php
                                            }
                                            
                                        //echo "$month[$i]";
                                // รับค่าที่เลือกจาก dropdown 1
                                //$selected_value = $_POST['daymonth'];
                                // แยกค่าที่เลือกเป็นตัวแปรสองตัว
                                //list($valueaDay[$i],$valueaMonth[$i]) = explode(',', $selected_value);
                                        }else{
                                            //continue;
                                        }
                            }
                            ?>
                            
                        </select>
                    <?php 
                        }
                        //echo "$valueaMonth[0]";
                    ?>
                    </td>

                    
                    
                </tr>
            </table>
        </div><br/>
                    <div class="form-group">
                        <input type="text" name="number" maxlength="6" pattern="[0-9]{6}" class="lotto-form_input" placeholder="กรอกเลขสลาก" 
                        required oninvalid="setCustomValidity('คุณไม่ได้ระบุตัวเลขสลากที่ถูกต้อง หรือเลขสลากไม่ครบ 6 หลัก')" oninput="setCustomValidity('')">
                    </div><br/>

                    <div class="form-group">
                        <button type="submit" value="Submit" title="ตรวจสลากฯ ของคุณ" class="btn btn-primary">เช็คผลรางวัล</button>
                    </div>
        <?php
            if ($_SERVER['REQUEST_METHOD'] == 'POST') {
                // Data received from form
                $day = $_POST['day'];
                //$month = $_POST['month'];
                $year = $_POST['year'];
                $number = $_POST['number'];
                //echo "$day";
                // Send data to API and get response
                $response = lotterycurl($day, $year, $number);
                $response = str_split($response);
                $totalarr=0;
                $string = array();
                for($i=0 ; $i < count($response) ; $i++){
                    if (isset($response[$i])) {  // เพิ่มเงื่อนไขตรวจสอบความถูกต้องของ key
                        $string[$i] = $response[$i];
                        $totalarr = $totalarr + 1;
                    }
                }

                for($i=0 ; $i < count($response) ; $i++){
                    if (isset($response[$i])) {  // เพิ่มเงื่อนไขตรวจสอบความถูกต้องของ key
                        $string[$i] = $response[$i];
                    }
                }
                for($i=26;$i<($totalarr-2);$i++){
                    $string1[$i-26] = $response[$i];
                }

                $word;
                $string = implode('',$string1);
                $string = strtoupper($string); //ปรับให้ String ที่ได้มา เป็นตัวใหญ่ทั้งหมด เพราะการเทียบ ใน ENT_COMPAT จะตรงการ อักขระตัวใหญ่เท่านั้น
                $string = preg_replace('/\\\U([0-9A-F]+)/', '&#x$1;', $string); //ตัด string ที่ขึ้นต้น ด้วย \u ตรงนี้ที่ต้องใส่ "\" หลายอันเพราะมันเป็น syntax ซ้ำในฟังก์ชั่น
                $stringx = html_entity_decode($string, ENT_COMPAT, 'UTF-8');

                for($i=0 ; $i < count($response) ; $i++){
                    if (isset($response[$i])) {  // เพิ่มเงื่อนไขตรวจสอบความถูกต้องของ key
                        $string[$i] = $response[$i];
                        if(($i=='15') && ($string[15] == '1')){
                            //echo "ยินดีด้วย คุณถูก";
                            $word = "ยินดีด้วย คุณถูก";
                        }
                        else if(($i=='15') && ($string[15] == '2')){
                            ?><h4><?php
                            $word = "เสียใจด้วย";
                            ?></h4><?php
                        }
                    }
                }
                ?><h4 style="color:black;"><?php
                echo $word.' '.$stringx; 
                ?></h4><?php
            }
        ?>
    </form>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            $("#year").on('change', function(){
                $(".days").hide();
                $("#" + $(this).val()).fadeIn(700);
            }).change();
        });
    </script>
</html>

